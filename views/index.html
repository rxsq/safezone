<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CrossFire NCR</title>
    <!-- Bootstrap Icons link -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!-- Bootstrap link -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../assets/css/style.css">
</head>

<body>
    <div class="sidebar" id="sidebar">
        <div class="logo-content">
          <div class="logo">
            <a href="index.html">
              <!-- <i class='bx bxs-hot'></i>
                    <div class="logo-name">CrossFire Niagara</div> -->
              <img src="/assets/images/crossfire logo edited.png" alt="" />
            </a>
          </div>
            <i class="bi bi-list" id="btn-close"></i>
        </div>
        <ul class="nav-list">
            <div class="search-box">
                <li>
                    <i class="bi bi-search"></i>
                    <input type="text" placeholder="Search">
                    <!-- <span class="tooltip">Dashboard</span> -->
                </li>
            </div>
            <li>
                <a href="index.html">
                    <i class="bi bi-speedometer2"></i>
                    <span class="links-name">Dashboard</span>
                </a>
                <!-- <span class="tooltip">Dashboard</span> -->
            </li>
            <li>
                <a href="non-conformance-report.html">
                    <i class="bi bi-file-earmark-richtext"></i>
                    <span class="links-name">Non-Conformance Report</span>
                </a>
                <!-- <span class="tooltip">Dashboard</span> -->
            </li>
            <li>
                <a href="product.html">
                    <i class="bi bi-cart2"></i>
                    <span class="links-name">Products</span>
                </a>
                <!-- <span class="tooltip">Dashboard</span> -->
            </li>
            <li>
                <a href="Employee.html">
                    <i class="bi bi-people"></i>
                    <span class="links-name">Employees</span>
                </a>
                <!-- <span class="tooltip">Dashboard</span> -->
            </li>
            <li>
                <a href="supplier.html">
                    <i class="bi bi-box-seam"></i>
                    <span class="links-name">Suppliers</span>
                </a>
                <!-- <span class="tooltip">Dashboard</span> -->
            </li>
        </ul>
        <div class="profile-content">
            <div class="profile">
                <div class="profile-details">
                    <img src="/assets/images/Crossfire Logo.PNG" alt="" class="">
                    <div class="name-job">
                        <div class="name">CrossFire Niagara</div>
                        <div class="job">Admin</div>
                    </div>
                </div>
                <i class="bi bi-box-arrow-left" id="log-out"></i>
            </div>
        </div>
    </div>
    <div class="home-content">
        <div>
            <header>
                <h1>Non-Conformance Report Dashboard</h1>
                <div class="actions">
                    <a href="non-conformance-report.html">
                        <button class="new-ncr-btn">+ New NCR</button>
                    </a>
                    <button class="export-data-btn">Export Data</button>
                    <select class="date-range-selector">
                        <option value="7-days">Last 7 Days</option>
                        <option value="30-days">Last 30 Days</option>
                        <option value="custom">Custom Range</option>
                    </select>
                </div>
            </header>

            <section class="key-metrics">
                <div class="metric-card">
                    <h2>Total</h2>
                    <p id="metricTotal">0</p>
                </div>
                <div class="metric-card">
                    <h2>Active</h2>
                    <p id="metricActive">0</p>
                </div>
                <div class="metric-card overdue">
                    <h2>Inactive</h2>
                    <p id="metricInactive">0</p>
                </div>
                <!-- <div class="metric-card overdue">
                    <h2>Overdue</h2>
                    <p id="metricOverdue">0</p>
                </div> -->
            </section>

            <section class="ncr-trends">
                <h2>Most Recent NCR's</h2>
                <table class="table table-striped table-hover" id="ncrRecentTable">
                    <thead>
                        <tr>
                            <th>NCR No.</th>
                            <th>Document Title</th>
                            <th>Supplier</th>
                            <th>Defect Description</th>
                            <th>Status</th>
                            <th class="text-center">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="tbodyRecentNCR">
                        
                    </tbody>
                </table>
            </section>


        </div>

    </div>

      <!-- Delete Modal -->
      <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Are you sure?</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="deleteModalBody">
                
            </div>
            <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="btnDeleteYes">Yes</button>
            <button type="button" class="btn btn-primary" id="btnDeleteNo">No</button>
            </div>
        </div>
        </div>
    </div>

        <!-- Edit Modal -->
    <!-- Edit Modal -->
    <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editModalLabel">Edit NCR Record</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editForm">
                        <div class="mb-3">
                            <label for="editFormNo" class="form-label">Form No</label>
                            <input type="text" class="form-control" id="editFormNo" required>
                        </div>
                        <div class="mb-3">
                            <label for="editDocumentNo" class="form-label">Document No</label>
                            <input type="text" class="form-control" id="editDocumentNo" required>
                        </div>
                        <div class="mb-3">
                            <label for="editDescription" class="form-label">Description</label>
                            <input type="text" class="form-control" id="editDescription" required>
                        </div>
                        <div class="mb-3">
                            <label for="editIssueDate" class="form-label">Issue Date</label>
                            <input type="datetime-local" class="form-control" id="editIssueDate" required>
                        </div>
                        <div class="mb-3">
                            <label for="editImageFileName" class="form-label">Image File Name</label>
                            <input type="text" class="form-control" id="editImageFileName" required>
                        </div>
                        <div class="mb-3">
                            <label for="editProdID" class="form-label">Product ID</label>
                            <input type="number" class="form-control" id="editProdID" required>
                        </div>
                        <div class="mb-3">
                            <label for="editSalesOrderNo" class="form-label">Sales Order No</label>
                            <input type="number" class="form-control" id="editSalesOrderNo" required>
                        </div>
                        <div class="mb-3">
                            <label for="editQtyReceived" class="form-label">Quantity Received</label>
                            <input type="number" class="form-control" id="editQtyReceived" required>
                        </div>
                        <div class="mb-3">
                            <label for="editQtyDefective" class="form-label">Quantity Defective</label>
                            <input type="number" class="form-control" id="editQtyDefective" required>
                        </div>
                        <div class="mb-3">
                            <label for="editDefectDesc" class="form-label">Defect Description</label>
                            <textarea class="form-control" id="editDefectDesc" required></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="editStatusID" class="form-label">Status ID</label>
                            <select class="form-select" id="editStatusID" required>
                                <option value="OPEN">Active</option>
                                <option value="CLSD">Inactive</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="editSupplierName" class="form-label">Supplier Name</label>
                            <input type="text" class="form-control" id="editSupplierName" required>
                        </div>
                        <input type="hidden" id="editNcrFormNo" /> <!-- Hidden input to store the NCR Form No -->
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="btnSaveChanges">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- View Modal -->
    <div class="modal fade" id="viewModal" tabindex="-1" aria-labelledby="viewModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="viewModalLabel">NCR Record Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="viewModalContent">
                        <p><strong>Form No:</strong> <span id="viewFormNo"></span></p>
                        <p><strong>Document No:</strong> <span id="viewDocumentNo"></span></p>
                        <p><strong>Description:</strong> <span id="viewDescription"></span></p>
                        <p><strong>Issue Date:</strong> <span id="viewIssueDate"></span></p>
                        <p><strong>Image:</strong> <span id="viewImageFileName"></span></p>
                        <p><strong>Product ID:</strong> <span id="viewProdID"></span></p>
                        <p><strong>Sales Order No:</strong> <span id="viewSalesOrderNo"></span></p>
                        <p><strong>Quantity Received:</strong> <span id="viewQtyReceived"></span></p>
                        <p><strong>Quantity Defective:</strong> <span id="viewQtyDefective"></span></p>
                        <p><strong>Defect Description:</strong> <span id="viewDefectDesc"></span></p>
                        <p><strong>Status:</strong> <span id="viewStatusID"></span></p>
                        <p><strong>Supplier Name:</strong> <span id="viewSupplierName"></span></p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <script src="../assets/js/main/sidebar.js"></script>
    <script src="../assets/js/ncr/handle-data.js"></script>
</body>

</html>